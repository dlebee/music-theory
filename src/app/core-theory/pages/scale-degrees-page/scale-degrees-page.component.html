<ng-container *ngIf="degrees$ | async as degrees">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
            <li class="breadcrumb-item"><a [routerLink]="['/notes', degrees.scale.key.name]"><app-inline-note [note]="degrees.scale.key"></app-inline-note></a></li>
            <li class="breadcrumb-item">{{ degrees.scale.definition.name }}</li>
            <li class="breadcrumb-item active" aria-current="page">Degrees</li>
        </ol>
    </nav>

    <h1><app-inline-note [note]="degrees.scale.key"></app-inline-note> - {{ degrees.scale.definition.name }}</h1>
    <h2>Degrees</h2>

    <div class="alert alert-info">
        Use your keyboard to play the chords of the degrees from 1 to {{degrees.scale.noteIntervals.length - 1 }}
    </div>

    <table class="table table-bordered">
        <tr>
            <ng-container *ngFor="let ni of degrees.scale.noteIntervals; let i = index; let isLast=last">
                <th class="text-center" *ngIf="!isLast">
                    {{ getRomanNumeral(i+1) }}
                </th>
            </ng-container>

        </tr>
        <tr>
            <ng-container *ngFor="let ni of degrees.scale.noteIntervals; let isLast = last">
                <td class="text-center" *ngIf="!isLast">
                    <app-inline-note [note]="ni.note"></app-inline-note>
                </td>
            </ng-container>

        </tr>
    </table>

    <div class="row mt-3">
        <div class="col-12">
            <h4>Chords</h4>
        </div>
        <div class="col-12 col-md-6 col-lg-4 p-2" *ngFor="let c of degrees.chords; let i = index">
            <app-chord [chord]="c"></app-chord>
        </div>
    </div>

</ng-container>